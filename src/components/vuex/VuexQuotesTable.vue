<template>
  <h1>List of Quotes</h1>
  <div class="top_bar">
    <input type="text" placeholder="Quote..." />
    <input type="text" placeholder="Author..." />
    <input type="button" value="Search" />
    <router-link to="/update">Add new quote</router-link>
  </div>
  <div class="quote_container">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th
            scope="col"
            class="px-6 py-4 text-left text-xs text-center w-1/3 bg-cyan-200 font-extrabold font-medium text-gray-500 uppercase tracking-wider"
          >
            Quote
          </th>
          <th
            scope="col"
            class="px-6 text-center py-3 text-left font-extrabold text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Author
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left font-extrabold text-center text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Updated in
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left font-extrabold text-center text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Update
          </th>
          <th
            scope="col"
            class="px-6 py-3 text-left font-extrabold text-center text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Delete
          </th>
        </tr>
      </thead>
      <tbody
        class="bg-white divide-y divide-gray-200"
        v-for="(quote, index) in quotes"
        :key="index"
      >
        <tr>
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="flex items-center justify-center">
              <div>
                <div class="text-sm font-medium text-gray-900"></div>
                <div class="text-sm text-gray-700">{{ quote.quote }}</div>
              </div>
            </div>
          </td>

          <td class="px-6 py-4 text-center whitespace-nowrap">
            <div class="text-sm text-gray-700">{{ quote.author }}</div>
          </td>
          <td
            class="px-6 py-4 justify-center flex gap-x-[10px] whitespace-nowrap text-right text-sm"
          >
            {{ quote.updated_in }}
          </td>
          <td class="px-6 py-4 text-center whitespace-nowrap">
            <fa icon="edit" @click="shareData(quote)" />
          </td>
          <td
            class="px-6 py-4 justify-center flex gap-x-[10px] whitespace-nowrap text-right text-sm"
          >
            <fa icon="trash" />
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script>
export default {
  name: "vuex-quotes-table",
  props: {
    quotes: {
      type: Array,
      required: true,
    },
  },
  methods: {
    shareData(quote) {
      console.log("in sharedata method", quote);
      this.$router.push({
        name: "quotes-update",
        params: {
          msg: "Updating",
          quote: quote.quote,
          author: quote.author,
          genre: quote.genre,
        },
      });
    },
  },
};
</script>

<style scoped>
.top_bar {
  @apply text-slate-700 flex justify-between italic;
}

h1 {
  @apply mb-5 text-lg text-red-600;
}

.quote_container {
  @apply text-amber-600 flex justify-between my-3;
}
</style>
